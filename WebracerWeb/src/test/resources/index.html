<!DOCTYPE html>
<html>
<head>
    <title>Webracer</title>
</head>
<body>

<script src='http://cdn.html5quintus.com/v0.2.0/quintus-all.js'></script>

<script>

//    var grid = "" +
//            "#####################################################################################################################################################################\n" +
//            "#...                                                                                                                        s                              .........#\n" +
//            "#...                                                                                                                        s                                 ......#\n" +
//            "#...                                                                                                                        s                                  .....#\n" +
//            "#...                                                                                                                        s                                  .....#\n" +
//            "#...                                                                                                                        s                                  .....#\n" +
//            "#...                                                                                                              #####################################        .....#\n" +
//            "#...                                                                                                                             #...............              .....#\n" +
//            "#...                                                                                                                             #..........                   .....#\n" +
//            "#...                                                                                                                             #.......                      .....#\n" +
//            "#...                                                                                                                             #......                      ......#\n" +
//            "#...                                                                                                                             #.....                .............#\n" +
//            "#...                                                                                                                             #......            #################\n" +
//            "#...                                                                                                                             #.......               ............#\n" +
//            "#...                                                                                                                             #..........                ........#\n" +
//            "#...                                                                                                                             #...............              .....#\n" +
//            "#...                                                                                                                             #.................             ....#\n" +
//            "#...                                                                                                                             #.....................           ..#\n" +
//            "#...                                                                                                                             ####################.....        ..#\n" +
//            "#...                                                                                                                                                ##......      ..#\n" +
//            "#...                                                                                                                                                 #......      ..#\n" +
//            "#...                                                                                                                                                 #.......     ..#\n" +
//            "#...                                                                                                                                                 #.......     ..#\n" +
//            "#...                                                                                                                                                 #.......     ..#\n" +
//            "#...                                                                                                                                                ##.......     ..#\n" +
//            "#...                                                                                                                                               ##........     ..#\n" +
//            "#...                                                                                                                   #############################........      ..#\n" +
//            "#...                                                                                                                ####...................................       ..#\n" +
//            "#...                                                                                                           ######.....................................        ..#\n" +
//            "#...                                                                                              ##############.........................................        ...#\n" +
//            "#...                                                              #################################.................            ........................        ....#\n" +
//            "#...                                                     ##########...........................................                     ...................         .....#\n" +
//            "#...       ###############################################............................................                                 ............           ......#\n" +
//            "#...                                               f                                                                                                         .......#\n" +
//            "#...                   S  Q  O  M  K  I  G  E  C  Af                                                                   ......                              .........#\n" +
//            "#...                                               f                                                                ............                         ...........#\n" +
//            "#.......              T  R  P  N  L  J  F  H  D  B f                                                          .......................                ...............#\n" +
//            "#.............                                     f                                                  ..............................................................#\n" +
//            "#.......##################################################..........................................................................................................#\n" +
//            "#####################################################################################################################################################################\n";
//
//    // convert grid to quintus style array of arrays
//    grid = grid.replace(/ /g, "0"); // asphalt
//    grid = grid.replace(/\./g, "1"); // grass
//    grid = grid.replace(/#/g, "2"); // wall
//    grid = grid.replace(/f/g, "3"); // start / finish
//    grid = grid.replace(/[A-Z]/g, "4"); // startpositions
//    grid = grid.replace(/s/g, "5"); // sector
//
//    var width = grid.indexOf("\n");
//    grid = grid.replace(/\n/g, ""); // remove linebreaks
//
//    var height = grid.length / width;
//
//    var tiles = new Array(height);
//    for(var i=0; i<height; i++){
//        var line = grid.substr(i * width, width);
//        var tileLine = new Array(width);
//        for(var j=0; j<width; j++){
//            tileLine[j] = parseInt(line[j])
//        }
//        tiles[i] = tileLine;
//    }

    var Q = Quintus()
            .include("Sprites, Scenes, Input, 2D, UI")
            .setup({maximize: true});

    Q.scene("track", function(stage) {

        stage.collisionLayer(
                new Q.TileLayer({ dataAsset: '/webracer/WebracerWeb/track.json',
                    sheet: 'tiles', tileW: 9, tileH: 9}));

//        var player = stage.insert(new Q.Player());

//        stage.add("viewport").follow(player);
        stage.add("viewport");
//        stage.insert(new Q.Enemy({ x: 700, y: 0 }));
//        stage.insert(new Q.Enemy({ x: 800, y: 0 }));
//
//        stage.insert(new Q.Tower({ x: 180, y: 50 }));
    });

    Q.load("/webracer/WebracerWeb/tiles.png, /webracer/WebracerWeb/track.json", function() {
        Q.sheet("tiles","/webracer/WebracerWeb/tiles.png", { tilew: 9, tilew: 9 });
        Q.stageScene("track");
    });



</script>

</body>
</html>